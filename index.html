<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Zineb Butterfly Cursor</title>
<style>
  :root {
    --bg: #0e1726;
    --fg: #ffd6f0;
    --accent: #ff8dc7;
  }
  html, body { height: 100%; }
  body {
    margin: 0;
    background: radial-gradient(circle at 70% 20%, #121f33, var(--bg));
    color: var(--fg);
    font-family: sans-serif;
    overflow: hidden;
  }
  canvas { display: block; width: 100vw; height: 100vh; }
  .hint {
    position: fixed; top: 10px; left: 10px; padding: 10px 14px;
    background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08);
    border-radius: 12px; backdrop-filter: blur(6px);
    font-size: 14px; line-height: 1.2;
    color: var(--fg);
  }
  .hint b { color: var(--accent); }
</style>
</head>
<body>
<canvas id="c"></canvas>
<div class="hint">
  <b>Zineb's Butterfly Cursor</b> â€” move your mouse.<br>
  Left click: flap faster.  Middle: pause.  Right: reverse.
</div>
<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize() {
  const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
  canvas.width = innerWidth * dpr;
  canvas.height = innerHeight * dpr;
  canvas.style.width = innerWidth + "px";
  canvas.style.height = innerHeight + "px";
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
}
window.addEventListener("resize", resize);
resize();

const Input = { x: innerWidth/2, y: innerHeight/2, left: false, middle: false, right: false };
window.addEventListener("mousemove", e => { Input.x = e.clientX; Input.y = e.clientY; });
window.addEventListener("mousedown", e => {
  if(e.button===0) Input.left = true;
  if(e.button===1) Input.middle = true;
  if(e.button===2) Input.right = true;
});
window.addEventListener("mouseup", e => {
  if(e.button===0) Input.left = false;
  if(e.button===1) Input.middle = false;
  if(e.button===2) Input.right = false;
});
window.addEventListener("contextmenu", e => e.preventDefault());

let paused = false, reverse = false, pausedOnce = false, reversedOnce = false;
let t = 0;

function update(dt) {
  if (Input.middle && !pausedOnce) { paused = !paused; pausedOnce = true; }
  if (!Input.middle) pausedOnce = false;

  if (Input.right && !reversedOnce) { reverse = !reverse; reversedOnce = true; }
  if (!Input.right) reversedOnce = false;

  if (!paused) t += dt * (reverse ? -1 : 1);
}

function drawButterfly(x, y, ang) {
  ctx.save();
  ctx.translate(x, y);
  ctx.rotate(ang);

  let flapSpeed = Input.left ? 10 : 5;
  let wingAngle = Math.sin(t * flapSpeed) * 0.5;

  // Body
  ctx.beginPath();
  ctx.fillStyle = "#ff8dc7";
  ctx.ellipse(0, 0, 4, 20, 0, 0, Math.PI*2);
  ctx.fill();

  // Left Wing
  ctx.save();
  ctx.rotate(wingAngle);
  ctx.beginPath();
  ctx.moveTo(0, 0);
  ctx.quadraticCurveTo(-50, -50, -20, 0);
  ctx.quadraticCurveTo(-50, 50, 0, 0);
  ctx.fillStyle = "rgba(255, 182, 219, 0.8)";
  ctx.fill();
  ctx.restore();

  // Right Wing
  ctx.save();
  ctx.rotate(-wingAngle);
  ctx.beginPath();
  ctx.moveTo(0, 0);
  ctx.quadraticCurveTo(50, -50, 20, 0);
  ctx.quadraticCurveTo(50, 50, 0, 0);
  ctx.fillStyle = "rgba(255, 182, 219, 0.8)";
  ctx.fill();
  ctx.restore();

  // Name text
  ctx.font = "bold 16px Arial";
  ctx.fillStyle = "#fff";
  ctx.textAlign = "center";
  ctx.fillText("Zineb", 0, -30);

  ctx.restore();
}

let bx = innerWidth/2, by = innerHeight/2;
function loop(now) {
  ctx.clearRect(0, 0, innerWidth, innerHeight);
  const dt = 0.016;

  update(dt);

  // Smooth follow
  bx += (Input.x - bx) * 0.1;
  by += (Input.y - by) * 0.1;

  // Draw butterfly
  const angle = Math.atan2(Input.y - by, Input.x - bx) + Math.PI/2;
  drawButterfly(bx, by, angle);

  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
